<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mars.elleshop.dao.BrandDao">

    <select id="findAll" resultType="com.mars.elleshop.entity.Brand">
        SELECT b.brand_id brandId,b.brand_name brandName,b.category_id,g.area_id,g.style_id
           from brand b,goods g
             where b.brand_id = g.brand_id order by
            <!--按照热门排序-->
            <if test="sortType == 'popular'">
                b.brand_id
            </if>
            <!--按照名字A-Z排序-->
            <if test="sortType == 'brandName'">
                CONVERT(b.brand_name USING gbk)
            </if>
            <!--按照分类排序-->
            <if test="sortType == 'category'">
                b.category_id
            </if>
            <!--按照风格排序-->
            <if test="sortType == 'style'">
                g.style_id
            </if>
            <!--按照地区排序-->
            <if test="sortType == 'area'">
                g.area_id
            </if>
        <!--默认按照品牌排序-->
        <if test="sortType == null or sortType == ''">
            b.brand_id
        </if>
    </select>

</mapper>