<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mars.elleshop.dao.BrandDao">

    <select id="findAll" resultType="com.mars.elleshop.entity.Brand">
        SELECT b.brand_id brandId,b.brand_name brandName,b.brand_logo_url brandLogoUrl,
               b.category_id,g.area_id,g.style_id
           from brand b,goods g
             where b.brand_id = g.brand_id order by
             <choose>
                 <!--popular:按照热门排序-->
                 <when test="sortType == 'popular'">
                     b.brand_id
                 </when>
                 <!--brandName:按照名字A-Z排序-->
                 <when test="sortType == 'brandName'">
                     CONVERT(b.brand_name USING gbk)
                 </when>
                 <!--category:按照分类排序-->
                 <when test="sortType == 'category'">
                      b.category_id
                 </when>
                 <!--style:按照风格排序-->
                 <when test="sortType == 'style'">
                      g.style_id
                 </when>
                 <!--area:按照地区排序-->
                 <when test="sortType == 'area'">
                      g.area_id
                 </when>
                 <!--默认按照品牌排序-->
                 <otherwise >
                      b.brand_id
                 </otherwise>
             </choose>
    </select>

</mapper>